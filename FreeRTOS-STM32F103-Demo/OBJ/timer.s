; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--cpp11 --debug -c -S -o..\obj\timer.s --depend=..\obj\timer.d --cpu=Cortex-M3 --apcs=interwork -O0 --diag_suppress=9931 -I..\USER -I..\COER -I..\STM32F10x_FWLib\inc -I..\HAL -I..\SYSTEM -I..\SYSTEM\delay -I..\SYSTEM\sys -I..\SYSTEM\usart -I..\HAL\ENCODER -I..\HAL\TIMER -I..\FreeRTOS -I..\FreeRTOS\include -I..\HAL\PWM -I..\HAL -I.\RTE\_FreeRTOS-STM32F103-DEMO -ID:\keil\keil-pack\Keil\STM32F1xx_DFP\2.3.0\Device\Include -ID:\keil\ARM\CMSIS\Include -D__UVISION_VERSION=527 -DSTM32F10X_HD -DSTM32F10X_ -DHD -DUSE_STDPERIPH_DRIVER --omf_browse=..\obj\timer.crf ..\HAL\TIMER\Timer.cpp]
        THUMB
        REQUIRE8
        PRESERVE8

        AREA ||.text||, CODE, READONLY, ALIGN=2

_ZN10CBaseTimerC2Ev                  ; Alternate entry point
_ZN10CBaseTimerC1Ev PROC
        MOVS     r1,#0
        STRB     r1,[r0,#8]
        MOVS     r2,#0
        STR      r2,[r0,#0]
        STR      r2,[r0,#4]
        BX       lr
        ENDP

_ZN10CBaseTimer8doUpdateEv PROC
        PUSH     {r4,lr}
        LDR      r2,[r0,#0]
        LDR      r1,[r0,#4]
        ADDS     r2,r2,#1
        ADC      r1,r1,#0
        STR      r2,[r0,#0]
        STR      r1,[r0,#4]
        LDR      r2,[r0,#0]
        LDR      r1,[r0,#4]
        MVN      r4,#0x80000000
        ANDS     r1,r1,r4
        STR      r2,[r0,#0]
        STR      r1,[r0,#4]
        MOVS     r1,#1
        STRB     r1,[r0,#8]
        POP      {r4,pc}
        ENDP

TIM3_IRQHandler PROC
        PUSH     {r4-r6,lr}
        MOVS     r1,#1
        LDR      r0,|L0.220|
        BL       TIM_GetITStatus
        CBZ      r0,|L0.104|
        MOVS     r1,#1
        LDR      r0,|L0.220|
        BL       TIM_ClearITPendingBit
        NOP      
        LDR      r0,|L0.224|
        LDR      r0,[r0,#0]  ; _ZN15NormalSingletonI10CBaseTimerE3insE
        CBNZ     r0,|L0.94|
        MOVS     r0,#0x10
        BL       _Znwj
        MOV      r5,r0
        BL       _ZN10CBaseTimerC1Ev
        MOV      r5,r0
        LDR      r0,|L0.224|
        STR      r5,[r0,#0]  ; _ZN15NormalSingletonI10CBaseTimerE3insE
|L0.94|
        LDR      r0,|L0.224|
        LDR      r4,[r0,#0]  ; _ZN15NormalSingletonI10CBaseTimerE3insE
        MOV      r0,r4
        BL       _ZN10CBaseTimer8doUpdateEv
|L0.104|
        POP      {r4-r6,pc}
        ENDP

_ZN10CBaseTimer10initializeEv PROC
        PUSH     {r0-r4,lr}
        MOV      r4,r0
        MOVS     r1,#1
        MOVS     r0,#2
        BL       RCC_APB1PeriphClockCmd
        MOVS     r0,#9
        STRH     r0,[sp,#8]
        MOV      r0,#0x1c1f
        STRH     r0,[sp,#4]
        MOVS     r0,#0
        STRH     r0,[sp,#0xa]
        STRH     r0,[sp,#6]
        ADD      r1,sp,#4
        LDR      r0,|L0.220|
        BL       TIM_TimeBaseInit
        MOVS     r2,#1
        MOV      r1,r2
        LDR      r0,|L0.220|
        BL       TIM_ITConfig
        MOVS     r0,#0x1d
        STRB     r0,[sp,#0]
        MOVS     r0,#0
        STRB     r0,[sp,#1]
        MOVS     r0,#3
        STRB     r0,[sp,#2]
        MOVS     r0,#1
        STRB     r0,[sp,#3]
        MOV      r0,sp
        BL       NVIC_Init
        NOP      
        MOVS     r1,#1
        LDR      r0,|L0.220|
        BL       TIM_Cmd
        NOP      
        POP      {r0-r4,pc}
        ENDP

_ZN10CBaseTimer5doRunEv PROC
        LDRB     r1,[r0,#8]
        CBNZ     r1,|L0.210|
|L0.208|
        BX       lr
|L0.210|
        MOVS     r1,#0
        STRB     r1,[r0,#8]
        NOP      
        B        |L0.208|
        ENDP

        DCW      0x0000
|L0.220|
        DCD      0x40000400
|L0.224|
        DCD      _ZN15NormalSingletonI10CBaseTimerE3insE

        AREA ||.ARM.exidx||, LINKORDER=||.text||, DATA, READONLY, SECTYPE={SHT_ARM_EXIDX}, ALIGN=2

        DCD      0x00000000
        RELOC 42, ||.text||
        DCD      0x00000001

        AREA ||.arm_vfe_header||, DATA, READONLY, NOALLOC, ALIGN=2

        DCD      0x00000000

        AREA ||.data__ZN15NormalSingletonI10CBaseTimerE3insE||, COMGROUP=_ZN15NormalSingletonI10CBaseTimerE3insE, DATA, ALIGN=2

_ZN15NormalSingletonI10CBaseTimerE3insE
        DCD      0x00000000

        EXPORT _ZN10CBaseTimerC2Ev [CODE]
        EXPORT _ZN10CBaseTimerC1Ev [CODE]
        EXPORT _ZN10CBaseTimer8doUpdateEv [CODE]
        EXPORT TIM3_IRQHandler [CODE]
        EXPORT _ZN10CBaseTimer10initializeEv [CODE]
        EXPORT _ZN10CBaseTimer5doRunEv [CODE]
        EXPORT _ZN15NormalSingletonI10CBaseTimerE3insE [DATA,SIZE=4]

        IMPORT ||Lib$$Request$$armlib|| [CODE,WEAK]
        IMPORT ||Lib$$Request$$cpplib|| [CODE,WEAK]
        IMPORT TIM_GetITStatus [CODE]
        IMPORT TIM_ClearITPendingBit [CODE]
        IMPORT _Znwj [CODE]
        IMPORT RCC_APB1PeriphClockCmd [CODE]
        IMPORT TIM_TimeBaseInit [CODE]
        IMPORT TIM_ITConfig [CODE]
        IMPORT NVIC_Init [CODE]
        IMPORT TIM_Cmd [CODE]

        ATTR FILESCOPE
        ATTR SETVALUE Tag_ABI_PCS_wchar_t,2
        ATTR SETVALUE Tag_ABI_enum_size,1
        ATTR SETVALUE Tag_ABI_optimization_goals,6
        ATTR SETSTRING Tag_conformance,"2.09"
        ATTR SETVALUE AV,6,0
        ATTR SETVALUE AV,18,1

        ASSERT {ENDIAN} = "little"
        ASSERT {INTER} = {TRUE}
        ASSERT {ROPI} = {FALSE}
        ASSERT {RWPI} = {FALSE}
        ASSERT {IEEE_FULL} = {FALSE}
        ASSERT {IEEE_PART} = {FALSE}
        ASSERT {IEEE_JAVA} = {FALSE}
        END
